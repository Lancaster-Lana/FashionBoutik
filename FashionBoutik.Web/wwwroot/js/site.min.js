if($(function(){$("body").on("hidden.bs.modal",".modal",function(){$(".modal-content").empty();$(this).removeData("bs.modal")});$("body").on("shown.bs.modal",function(){var n=$("form")});$('[name="dashboard"]').val()=="admin"||$.Board&&$.Board.rightSideBar&&($.Board.rightSideBar.activate(),cart.init())}),typeof jQuery=="undefined")throw new Error("jQuery plugins need to be before this file");$.Board={};$.Board.options={colors:{red:"#F44336",pink:"#E91E63",purple:"#9C27B0",deepPurple:"#673AB7",indigo:"#3F51B5",blue:"#2196F3",lightBlue:"#03A9F4",cyan:"#00BCD4",teal:"#009688",green:"#4CAF50",lightGreen:"#8BC34A",lime:"#CDDC39",yellow:"#ffe821",amber:"#FFC107",orange:"#FF9800",deepOrange:"#FF5722",brown:"#795548",grey:"#9E9E9E",blueGrey:"#607D8B",black:"#000000",white:"#ffffff"},leftSideBar:{scrollColor:"rgba(0,0,0,0.5)",scrollWidth:"4px",scrollAlwaysVisible:!1,scrollBorderRadius:"0",scrollRailBorderRadius:"0",scrollActiveItemWhenPageLoad:!0,breakpointWidth:1170},dropdownMenu:{effectIn:"fadeIn",effectOut:"fadeOut"}};$.Board.leftSideBar={activate:function(){var n=this,t=$("body"),i=$(".overlay");$(window).click(function(r){var u=$(r.target);r.target.nodeName.toLowerCase()==="i"&&(u=$(r.target).parent());!u.hasClass("bars")&&n.isOpen()&&u.parents("#leftsidebar").length===0&&(u.hasClass("js-right-sidebar")||i.fadeOut(),t.removeClass("overlay-open"))});$.each($(".menu-toggle.toggled"),function(n,t){$(t).next().slideToggle(0)});$.each($(".menu .list li.active"),function(n,t){var i=$(t).find("a:eq(0)");i.addClass("toggled");i.next().show()});$(".menu-toggle").on("click",function(n){var t=$(this),r=t.next(),i;$(t.parents("ul")[0]).hasClass("list")&&(i=$(n.target).hasClass("menu-toggle")?n.target:$(n.target).parents(".menu-toggle"),$.each($(".menu-toggle.toggled").not(i).next(),function(n,t){$(t).is(":visible")&&($(t).prev().toggleClass("toggled"),$(t).slideUp())}));t.toggleClass("toggled");r.slideToggle(320)});n.setMenuHeight();n.checkStatuForResize(!0);$(window).resize(function(){n.setMenuHeight();n.checkStatuForResize(!1)})},setMenuHeight:function(){if(typeof $.fn.slimScroll!="undefined"){var n=$.Board.options.leftSideBar,t=$(window).height()-($(".legal").outerHeight()+$(".user-info").outerHeight()+$(".navbar").innerHeight()),i=$(".list");i.slimscroll({height:t+"px",color:n.scrollColor,size:n.scrollWidth,alwaysVisible:n.scrollAlwaysVisible,borderRadius:n.scrollBorderRadius,railBorderRadius:n.scrollRailBorderRadius})}},checkStatuForResize:function(n){var t=$("body"),i=$(".navbar .navbar-header .bars"),r=t.width();n&&t.find(".content, .sidebar").addClass("no-animate").delay(1e3).queue(function(){$(this).removeClass("no-animate").dequeue()});r<$.Board.options.leftSideBar.breakpointWidth?(t.addClass("ls-closed"),i.fadeIn()):(t.removeClass("ls-closed"),i.fadeOut())},isOpen:function(){return $("body").hasClass("overlay-open")}};$.Board.rightSideBar={activate:function(){var t=this,i=$("#rightsidebar"),n=$(".overlay");$(".js-right-sidebar").on("click",function(){i.toggleClass("open");t.isOpen()?n.fadeIn():n.fadeOut()})},isOpen:function(){return $(".right-sidebar").hasClass("open")}};var cart=function(n){function s(){n("#jqxgrid").jqxGrid({width:280,columnsresize:!0,enabletooltips:!0,keyboardnavigation:!1,selectionmode:"none",pagesize:10,pageable:!0,columns:[{text:"Product",dataField:"name",width:150},{text:"Count",dataField:"count",width:60},{text:"Remove",dataField:"remove",width:60}]});n("#jqxgrid").on("cellclick",function(n){var i=n.args.rowindex,t;n.args.datafield=="remove"&&(t=cartItems[i],t.count>1?(t.count-=1,o(i,t)):(cartItems.splice(i,1),v(i)),u(-t.price))})}function h(){n(".draggable-demo-catalog").addClass("jqx-scrollbar-state-normal-"+t);n(".draggable-demo-title").addClass("jqx-expander-header-"+t);n(".draggable-demo-title").addClass("jqx-expander-header-expanded-"+t);n(".draggable-demo-total").addClass("jqx-expander-header-"+t).addClass("jqx-expander-header-expanded-"+t);t==="shinyblack"&&(n(".draggable-demo-shop").css("background-color","#555"),n(".draggable-demo-product").css("background-color","#999"))}function f(){var t,i,r;if(s(),t=localStorage.getItem("shoppingBagData"),t&&t!="null"&&(this.cartItems=JSON.parse(t),this.cartItems))for(i=0;i<this.cartItems.length;i++)r=this.cartItems[i],r.name&&l(r);n(".draggable-demo-product").each(function(){n(this).jqxDragDrop({dropTarget:n("#cart"),revert:!0})})}function l(n){e(n);u(n.price)}function a(n){var t=p(n.name),i;t>=0?(this.cartItems[t].count+=1,o(t,this.cartItems[t])):(this.cartItems==null&&(this.cartItems=[]),i=this.cartItems.length,n={name:n.name.trim(),count:1,price:n.price,index:i,remove:'<div style="text-align: left; cursor: pointer; width: 23px;"id="draggable-demo-row-'+i+'">X<\/div>'},this.cartItems.push(n),e(n));u(n.price)}function u(t){isNaN(t)&&alert("Wrong price: "+t);t&&typeof r!="undefined"?r+=t:r=0;n("#total").html("$ "+r)}function e(t){n("#jqxgrid").jqxGrid("addrow",null,t)}function o(t,i){var r=n("#jqxgrid").jqxGrid("getrowid",t);n("#jqxgrid").jqxGrid("updaterow",r,i)}function v(t){var i=n("#jqxgrid").jqxGrid("getrowid",t);n("#jqxgrid").jqxGrid("deleterow",i)}function y(){n("#jqxgrid").jqxGrid("clear");localStorage.removeItem("shoppingBagData");this.cartItems=[];f();u(null)}function p(n){if(this.cartItems)for(var t=0;t<this.cartItems.length;t+=1)if(cartItems[t].name.trim()===n.trim())return t;return-1}function w(){n(".draggable-demo-product").each(function(t,r){n(r).mouseenter(function(){});n(r).mouseleave(function(){});n(r).on("mousedown",function(){n(this).trigger("dragStart")});n(r).on("dragStart",function(){n("#cart").css("border","2px solid #aaa");var u=this,i=n(r).find(".draggable-demo-product-header").text(),t=n(r).find(".draggable-demo-product-price").text().replace("Price: $","");t=parseInt(t,10);n(this).jqxDragDrop("data",{price:t,name:i})});n(r).on("dragEnd",function(t){if(n("#cart").css("border","2px dashed #aaa"),i){a({price:t.args.price,name:t.args.name});i=!1;var r=JSON.stringify(cartItems);localStorage.setItem("shoppingBagData",r);n("#cartItemsJson")&&n("#cartItemsJson").val(r)}});n("#cart").on("mouseup",function(){var t=r;n(t).trigger("dropTargetEnter")});n(r).on("dropTargetEnter",function(t){i=!0;n(t.target).css("border","2px solid #000")});n(r).on("dropTargetLeave",function(t){n(t.args.target).css("border","2px solid #aaa");i=!1;n(r).jqxDragDrop("dropAction","default")})});n(".clear-shopping-cart").unbind("click");n(".clear-shopping-cart").on("click",function(){y()})}function b(){f();w();h()}this.cartItems=[];var t,i=!1,r=0;return t=n.jqx.theme,{init:b}}(jQuery);