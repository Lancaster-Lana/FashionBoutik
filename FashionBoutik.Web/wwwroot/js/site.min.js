if($(function(){$("body").on("hidden.bs.modal",".modal",function(){$(".modal-content").empty();$(this).removeData("bs.modal")});$("body").on("shown.bs.modal",function(){var n=$("form")});$('[name="dashboard"]').val()=="admin"||$.Board&&$.Board.rightSideBar&&($.Board.rightSideBar.activate(),cart.init())}),typeof jQuery=="undefined")throw new Error("jQuery plugins need to be before this file");$.Board={};$.Board.options={colors:{red:"#F44336",pink:"#E91E63",purple:"#9C27B0",deepPurple:"#673AB7",indigo:"#3F51B5",blue:"#2196F3",lightBlue:"#03A9F4",cyan:"#00BCD4",teal:"#009688",green:"#4CAF50",lightGreen:"#8BC34A",lime:"#CDDC39",yellow:"#ffe821",amber:"#FFC107",orange:"#FF9800",deepOrange:"#FF5722",brown:"#795548",grey:"#9E9E9E",blueGrey:"#607D8B",black:"#000000",white:"#ffffff"},leftSideBar:{scrollColor:"rgba(0,0,0,0.5)",scrollWidth:"4px",scrollAlwaysVisible:!1,scrollBorderRadius:"0",scrollRailBorderRadius:"0",scrollActiveItemWhenPageLoad:!0,breakpointWidth:1170},dropdownMenu:{effectIn:"fadeIn",effectOut:"fadeOut"}};$.Board.leftSideBar={activate:function(){var n=this,t=$("body"),i=$(".overlay");$(window).click(function(r){var u=$(r.target);r.target.nodeName.toLowerCase()==="i"&&(u=$(r.target).parent());!u.hasClass("bars")&&n.isOpen()&&u.parents("#leftsidebar").length===0&&(u.hasClass("js-right-sidebar")||i.fadeOut(),t.removeClass("overlay-open"))});$.each($(".menu-toggle.toggled"),function(n,t){$(t).next().slideToggle(0)});$.each($(".menu .list li.active"),function(n,t){var i=$(t).find("a:eq(0)");i.addClass("toggled");i.next().show()});$(".menu-toggle").on("click",function(n){var t=$(this),r=t.next(),i;$(t.parents("ul")[0]).hasClass("list")&&(i=$(n.target).hasClass("menu-toggle")?n.target:$(n.target).parents(".menu-toggle"),$.each($(".menu-toggle.toggled").not(i).next(),function(n,t){$(t).is(":visible")&&($(t).prev().toggleClass("toggled"),$(t).slideUp())}));t.toggleClass("toggled");r.slideToggle(320)});n.setMenuHeight();n.checkStatuForResize(!0);$(window).resize(function(){n.setMenuHeight();n.checkStatuForResize(!1)})},setMenuHeight:function(){if(typeof $.fn.slimScroll!="undefined"){var n=$.Board.options.leftSideBar,t=$(window).height()-($(".legal").outerHeight()+$(".user-info").outerHeight()+$(".navbar").innerHeight()),i=$(".list");i.slimscroll({height:t+"px",color:n.scrollColor,size:n.scrollWidth,alwaysVisible:n.scrollAlwaysVisible,borderRadius:n.scrollBorderRadius,railBorderRadius:n.scrollRailBorderRadius})}},checkStatuForResize:function(n){var t=$("body"),i=$(".navbar .navbar-header .bars"),r=t.width();n&&t.find(".content, .sidebar").addClass("no-animate").delay(1e3).queue(function(){$(this).removeClass("no-animate").dequeue()});r<$.Board.options.leftSideBar.breakpointWidth?(t.addClass("ls-closed"),i.fadeIn()):(t.removeClass("ls-closed"),i.fadeOut())},isOpen:function(){return $("body").hasClass("overlay-open")}};$.Board.rightSideBar={activate:function(){var t=this,i=$("#rightsidebar"),n=$(".overlay");$(".js-right-sidebar").on("click",function(){i.toggleClass("open");t.isOpen()?n.fadeIn():n.fadeOut()})},isOpen:function(){return $(".right-sidebar").hasClass("open")}};var cart=function(n){function h(){n("#jqxgrid").jqxGrid({width:280,keyboardnavigation:!1,selectionmode:"none",columns:[{text:"Product",dataField:"name",width:150},{text:"Count",dataField:"count",width:60},{text:"Remove",dataField:"remove",width:60}]});n("#jqxgrid").on("cellclick",function(n){var r=n.args.rowindex,i;n.args.datafield=="remove"&&(i=t[r],i.count>1?(i.count-=1,s(r,i)):(t.splice(r,1),y(r)),f(-i.price))})}function c(){n(".draggable-demo-catalog").addClass("jqx-scrollbar-state-normal-"+i);n(".draggable-demo-title").addClass("jqx-expander-header-"+i);n(".draggable-demo-title").addClass("jqx-expander-header-expanded-"+i);n(".draggable-demo-total").addClass("jqx-expander-header-"+i).addClass("jqx-expander-header-expanded-"+i);i==="shinyblack"&&(n(".draggable-demo-shop").css("background-color","#555"),n(".draggable-demo-product").css("background-color","#999"))}function e(){var r,f,i,u;if(h(),r=sessionStorage.getItem("shoppingBagData"),f=r,f)for(t=JSON.parse(r),i=0;i<t.length;i++)u=t[i],u.name&&a(u);n(".draggable-demo-product").each(function(){n(this).jqxDragDrop({dropTarget:n("#cart"),revert:!0})})}function a(n){o(n);f(n.price)}function v(n){var i=p(n.name),r;i>=0?(t[i].count+=1,s(i,t[i])):(r=t.length,n={name:n.name.trim(),count:1,price:n.price,index:r,remove:'<div style="text-align: left; cursor: pointer; width: 23px;"id="draggable-demo-row-'+r+'">X<\/div>'},t.push(n),o(n));f(n.price)}function f(t){isNaN(t)&&alert("Wrong price: "+t);t&&typeof u!="undefined"?u+=t:u=0;n("#total").html("$ "+u)}function o(t){n("#jqxgrid").jqxGrid("addrow",null,t)}function s(t,i){var r=n("#jqxgrid").jqxGrid("getrowid",t);n("#jqxgrid").jqxGrid("updaterow",r,i)}function y(t){var i=n("#jqxgrid").jqxGrid("getrowid",t);n("#jqxgrid").jqxGrid("deleterow",i)}function p(n){for(var i=0;i<t.length;i+=1)if(t[i].name.trim()===n.trim())return i;return-1}function w(){n(".draggable-demo-product").each(function(i,u){n(u).mouseenter(function(){});n(u).mouseleave(function(){});n(u).on("mousedown",function(){n(this).trigger("dragStart")});n(u).on("dragStart",function(){n("#cart").css("border","2px solid #aaa");var r=this,i=n(u).find(".draggable-demo-product-header").text(),t=n(u).find(".draggable-demo-product-price").text().replace("Price: $","");t=parseInt(t,10);n(this).jqxDragDrop("data",{price:t,name:i})});n(u).on("dragEnd",function(i){if(n("#cart").css("border","2px dashed #aaa"),r){v({price:i.args.price,name:i.args.name});r=!1;var u=JSON.stringify(t);sessionStorage.setItem("shoppingBagData",u);n("#cartItems")&&n("#cartItems").val(u)}});n("#cart").on("mouseup",function(){var t=u;n(t).trigger("dropTargetEnter")});n(u).on("dropTargetEnter",function(t){r=!0;n(t.target).css("border","2px solid #000")});n(u).on("dropTargetLeave",function(t){n(t.args.target).css("border","2px solid #aaa");r=!1;n(u).jqxDragDrop("dropAction","default")})});n(".clear-shopping-cart").unbind("click");n(".clear-shopping-cart").on("click",function(){t=null;sessionStorage.setItem("shoppingBagData",t);e()})}function b(){e();w();c()}var i,r=!1,t=[],u=0;return i=n.jqx.theme,{init:b}}(jQuery);